<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Permitir acceso a archivos y directorios existentes (CSS, JS, imágenes)
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]
    
    # Redirigir todo al punto de entrada principal
    RewriteRule ^(.*)$ public/index.php [QSA,L]
</IfModule>

# Configuración de codificación UTF-8
AddDefaultCharset UTF-8
<IfModule mod_mime.c>
    AddCharset UTF-8 .html .css .js .xml .json .rss .atom .php
</IfModule>

# Fallback para cuando mod_rewrite no está disponible
<IfModule !mod_rewrite.c>
    # Si mod_rewrite no está disponible, los usuarios pueden acceder
    # directamente a los archivos PHP de respaldo en el directorio public:
    # - /public/index.php (página principal)
    # - /public/login.php (inicio de sesión)
    # - /public/registro.php (registro de usuarios)
    DirectoryIndex public/index.php
</IfModule>
